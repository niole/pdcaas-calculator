from pprint import pprint
from cli import cli


def cli_test():
    r1 = {"title":"Country French Omelet","yields":"Serves 2","ingredients":["1 \ttablespoon good olive oil","3\t slices thick-cut bacon, cut into 1-inch pieces","1 \tcup (1-inch-diced) unpeeled Yukon Gold potatoes","Kosher salt and freshly ground black pepper","5 \textra-large eggs","3 \ttablespoons milk","1\t tablespoon unsalted butter","1\t tablespoon fresh chopped chives"],"instructions":"Preheat the oven to 350 degrees. Heat the olive oil in a 10-inch ovenproof omelet pan over medium heat. Add the bacon and cook for 3 to 5 minutes over medium-low heat, stirring occasionally, until the bacon is browned but not crisp. Take the bacon out of the pan with a slotted spoon and set aside on a plate. Place the potatoes in the pan and sprinkle with salt and pepper. Continue to cook over medium-low heat for 8 to 10 minutes, until very tender and browned, tossing occasionally to brown evenly. Remove with a slotted spoon to the same plate with the bacon. Meanwhile, in a medium bowl, beat the eggs, milk, 1/2 teaspoon salt, and 1/4 teaspoon pepper together with a fork. After the potatoes are removed, pour the fat out of the pan and discard. Add the butter, lower the heat to low, and pour the eggs into the hot pan. Sprinkle the bacon, potatoes, and chives evenly over the top and place the pan in the oven for about 8 minutes, just until the eggs are set. Slide onto a plate, divide in half, and serve hot.","description":"classic american comfort food. There’s nothing like a home-cooked meal to make everyone feel happy and loved.","tags":["breakfast","brunch","French","Weeknight","Easy","Gluten Free","eggs","bacon"],"id":"3a84aa9d5a21322374f6a1dde57db4ad","ingredients_w_units":[{"units":"tablespoon","name":"olive oil","total":1},{"units":"slices","name":"bacon","total":3},{"units":"cup","name":"Yukon Gold potatoes","total":1},{"units":"extra-large","name":"eggs","total":5},{"units":"tablespoon","name":"milk","total":3},{"units":"tablespoon","name":"unsalted butter","total":1},{"units":"tablespoon","name":"chopped chives","total":1}],"nutrient_breakdown":{"protein_breakdown":{"percent_complete_digestible_protein":0.5199551050052298,"total_complete_digestible_protein_g":2.7652187400000003,"total_protein_g":5.3181875,"ingredient_summaries":[{"name":"olive oil","limiting_aa_details":{"name":"Histidine","total_protein_g":0},"total_protein_g":0,"total_balanced_protein_g":0,"aas":[{"name":"Histidine","total_protein_g":0},{"name":"Isoleucine","total_protein_g":0},{"name":"Leucine","total_protein_g":0},{"name":"Lysine","total_protein_g":0},{"name":"Methionine","total_protein_g":0},{"name":"Phenylalanine","total_protein_g":0},{"name":"Threonine","total_protein_g":0},{"name":"Tryptophan","total_protein_g":0},{"name":"Valine","total_protein_g":0}]},{"name":"Yukon Gold potatoes","limiting_aa_details":{"name":"Methionine","total_protein_g":0.07332},"total_protein_g":4.68,"total_balanced_protein_g":2.316912,"aas":[{"name":"Methionine","total_protein_g":0.07332},{"name":"Tryptophan","total_protein_g":0.07332},{"name":"Histidine","total_protein_g":0.10452},{"name":"Threonine","total_protein_g":0.17004000000000002},{"name":"Isoleucine","total_protein_g":0.19188},{"name":"Phenylalanine","total_protein_g":0.20748},{"name":"Valine","total_protein_g":0.26208000000000004},{"name":"Leucine","total_protein_g":0.28236},{"name":"Lysine","total_protein_g":0.28392}]},{"name":"milk","limiting_aa_details":{"name":"Methionine","total_protein_g":0.00968625},"total_protein_g":0.4750875,"total_balanced_protein_g":0.3758265,"aas":[{"name":"Tryptophan","total_protein_g":0.007841250000000001},{"name":"Methionine","total_protein_g":0.00968625},{"name":"Histidine","total_protein_g":0.01060875},{"name":"Phenylalanine","total_protein_g":0.0212175},{"name":"Threonine","total_protein_g":0.0212175},{"name":"Isoleucine","total_protein_g":0.025830000000000002},{"name":"Valine","total_protein_g":0.02905875},{"name":"Lysine","total_protein_g":0.031365000000000004},{"name":"Leucine","total_protein_g":0.04381875}]},{"name":"unsalted butter","limiting_aa_details":{"name":"Methionine","total_protein_g":0.0029820000000000003},"total_protein_g":0.12069999999999999,"total_balanced_protein_g":0.0679896,"aas":[{"name":"Tryptophan","total_protein_g":0.001704},{"name":"Methionine","total_protein_g":0.0029820000000000003},{"name":"Histidine","total_protein_g":0.003266},{"name":"Threonine","total_protein_g":0.005396},{"name":"Phenylalanine","total_protein_g":0.005822000000000001},{"name":"Isoleucine","total_protein_g":0.007241999999999999},{"name":"Valine","total_protein_g":0.008094},{"name":"Lysine","total_protein_g":0.009514},{"name":"Leucine","total_protein_g":0.011786000000000001}]},{"name":"chopped chives","limiting_aa_details":{"name":"Methionine","total_protein_g":0.00046200000000000006},"total_protein_g":0.0424,"total_balanced_protein_g":0.00449064,"aas":[{"name":"Methionine","total_protein_g":0.00046200000000000006},{"name":"Tryptophan","total_protein_g":0.000474},{"name":"Histidine","total_protein_g":0.000732},{"name":"Phenylalanine","total_protein_g":0.0013640000000000002},{"name":"Threonine","total_protein_g":0.001662},{"name":"Isoleucine","total_protein_g":0.0017980000000000001},{"name":"Valine","total_protein_g":0.0018720000000000004},{"name":"Lysine","total_protein_g":0.0021160000000000003},{"name":"Leucine","total_protein_g":0.00253}]}]}}}

    #actual1 = cli(r1)

    r2 = {"title":"Roasted Broccolini & Cheddar","yields":"Serves 4","ingredients":["11/2 pounds broccolini","Good olive oil","Kosher salt and freshly ground black pepper","6 ounces good sharp aged white Cheddar, such as Cabot","Juice of 1/2 lemon"],"instructions":"Preheat the oven to 400 degrees. Remove and discard the bottom half of the broccolini stems. Cut the remaining broccolini stems in half or quarters lengthwise, depending on the size of the stems. Don't cut the florets-just pull them apart. Place the broccolini on a sheet pan. Drizzle 4 tablespoons olive oil on the broccolini and sprinkle with 1 teaspoon salt and 1/2 teaspoon pepper. Toss well, making sure the broccolini is lightly coated with oil. Spread the broccolini in one layer and roast for 10 minutes, tossing once with a metal spatula, until crisp-tender. Meanwhile, slice the Cheddar 1/4 inch thick and break it into large crumbles. When the broccolini is ready, sprinkle the cheese on the broccolini and return to the oven for 3 to 4 minutes, just until the cheese melts. Squeeze on the lemon juice, taste for seasonings, and serve hot.","description":"classic american comfort food. There’s nothing like a home-cooked meal to make everyone feel happy and loved.","tags":["broccolini","Vegetarian","Easy","moderncomfortfood"],"id":"69eeb6f8c52841b759fc2ccc78ac1ffd","ingredients_w_units":[{"units":"pounds","name":"broccolini","total":5.5},{"units":"tsp","name":"good olive oil","total":1},{"units":"tsp","name":"kosher salt and freshly ground black pepper","total":0.5},{"units":"ounces","name":"good sharp aged white Cheddar, such as Cabot","total":6},{"units":"tsp","name":"juice of 0.5 lemon","total":0.5}],"nutrient_breakdown":{"protein_breakdown":{"percent_complete_digestible_protein":0,"total_complete_digestible_protein_g":0,"total_protein_g":0.051691666666666664,"ingredient_summaries":[{"name":"good olive oil","limiting_aa_details":{},"total_protein_g":0.018500000000000003,"total_balanced_protein_g":0,"aas":[]},{"name":"kosher salt and freshly ground black pepper","limiting_aa_details":{},"total_protein_g":0.02144166666666666,"total_balanced_protein_g":0,"aas":[]},{"name":"juice of 0.5 lemon","limiting_aa_details":{},"total_protein_g":0.011749999999999998,"total_balanced_protein_g":0,"aas":[]}]}}}
    #actual2 = cli(r2)

    r3 =  {"title":"Flourless Peanut Butter Cookies","yields":"13 cookies","ingredients":["1 tablespoon (5 g) ground flax","3 tablespoons (45 mL) water","1/2 cup (53 g) unsweetened shredded coconut","1/2 cup (52 g) gluten-free rolled oats","1/2 cup (68 g) packed brown sugar","1 teaspoon baking powder","1/2 teaspoon fine sea salt (reduce salt if using salted peanut butter)","1/4 cup (49 g) mini non-dairy chocolate chips","1/2 cup (125 mL) natural smooth peanut butter","1 teaspoon (5 mL) pure vanilla extract","2 tablespoons (30 mL) pure maple syrup"],"instructions":"   Preheat the oven to 350degF (180degC), and line a large baking sheet with parchment paper.   Add the ground flax and water to a medium bowl, and whisk until combined. Set aside.    To a large bowl, add the coconut, rolled oats, brown sugar, baking powder, salt, and chocolate chips. Stir to combine.    To the same bowl as the flax mixture, add the peanut butter, vanilla, and maple syrup. Stir until smooth. The mixture will be very thick.    Using a spatula (this helps to scoop up every last bit), scoop the wet mixture on top of the dry ingredients, and stir until thoroughly combined. The batter will be very dry at first, but this is normal! You'll need to put some elbow grease into stirring. I like to knead the dough with my hands to make it all come together. (You can also use electric beaters, but I prefer to get in there with my hands and knead until no dry patches remain.) If for some reason your dough is still too dry to shape into balls, add a teaspoon of water and mix again.   Lightly wet your hands (shaking off excess water) and form about 13 balls, just smaller than golf balls. Stop and rinse off sticky hands as needed. Place each ball onto the prepared baking sheet about 2 to 3 inches apart. Gently press down on each ball to flatten into a  1-cm (just less than 1/2-inch) thick disc. If there are any leftover chocolate chips in the bottom of the bowl, scoop them up and push them into the tops of the cookies.    Bake for 12 to 14 minutes. The cookies tend to only spread out a little. They'll be delicate coming out of the oven, but they will firm up as they cool. The bottoms will be golden. Allow the cookies to cool on the baking sheet for 10 minutes before carefully transferring to a cooling rack until completely cooled. Once cooled, the cookies will remain soft and chewy. For a firmer texture, transfer the cookies to the freezer (my favourite way to enjoy them!). Store leftovers in an airtight container or freezer bag in the freezer for up to 1 month. ","description":"crowd-pleasing and family-approved plant-based recipes, healthy recipes free of any animal products.  Peanut butter, shredded coconut, and rolled oats form the base of these soft and chewy chocolate chip cookies. Brown sugar lends a light caramel flavour which pairs so well with the peanut butter and sea salt. They're completely flourless, in addition to being vegan and gluten-free, but no one will be the wiser. You   try these in my   for a decadent summer treat! This recipe is from  (page 213). ","tags":["vegan","Christmas","Cookies/Squares","Gluten Free","Oil Free","Quick & Easy","Recipes","Snacks"],"id":"e4e45632dd06a71b17587655f828ecca","ingredients_w_units":[{"units":"tablespoon","name":"ground flax","total":1},{"units":"tablespoon","name":"water","total":3},{"units":"cup","name":"shredded coconut","total":0.5},{"units":"cup","name":"rolled oats","total":0.5},{"units":"cup","name":"brown sugar","total":0.5},{"units":"teaspoon","name":"baking powder","total":1},{"units":"teaspoon","name":"sea salt","total":0.5},{"units":"cup","name":"chocolate chips","total":0.25},{"units":"cup","name":"peanut butter","total":0.5},{"units":"teaspoon","name":"vanilla extract","total":1},{"units":"tablespoon","name":"maple syrup","total":2}]}
    actual3 = cli(r3)

    print(actual3.ingredients[1].total_protein_g)
    assert(actual3.ingredients[1].total_protein_g == 1.3392)

if __name__ == "__main__":
    cli_test()
