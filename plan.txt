table which joins the total amount of protein in a unit of food
do i need to calculate complete amino acid info?: all essential amino acids in somewhat equal amounts
  so may need to calculate the proportion of amino acids contributed by all ingredients in a meal, modified by the TD of each ingredient

food_des - nut_data - nutr_def

sqlite3 joining code for getting nutritional content of foods:

create temp view nutr_info as select NDB_No,nut_data.Nutr_No,Nutr_Val,Units,nutr_def.NutrDesc,nutr_def.Tagname from nut_data left join nutr_def on nut_data.Nutr_No = nutr_def.Nutr_No
create temp view food_info as select food_des.FdGrp_Cd,food_des.Long_Desc,food_des.Shrt_Desc,food_des.ComName,food_des.ManufacName,food_des.NDB_No,nutr_info.Nutr_Val,nutr_info.Units,nutr_info.NutrDesc,nutr_info.Tagname from food_des left join nutr_info on nutr_info.NDB_No = food_des.NDB_No

I think we'll just keep weight and footnote for more contextualizing information about recipes

look up amino acids in 100 grams and then use the weights file to convert to common household measure

user gives common household measure and ingredient
we calculate the effective total amino acides in that ingredient
we do this for all ingredients
then we check the amino acid balance and deliver the complete protein score for that recipe

ingredient = "chickpeas"
measure = "quarter cup"

# look up the closest ingredient in food_info, Long_Desc, Shrt_Desc, ComName, ManufacName, and get the total amino acids per 100g per type
# then look up the appropriate conversion in weight
# then calculate the number of amino acids per type according to the measure that the user provided, determine the percentage of protein that is complete and then weight by TD
# then report the complete protein amount

effective_total_alanine = (TD1*ingred1_a1 + TD2*ingred2_a1)
...

all_amino_acids = [...]

if len(all_amino_acids) >= 9:
  first_a = all_amino_acids[0]
  for a in all_amino_acids:
    if first_a != a:
      fail
else:
  fail
